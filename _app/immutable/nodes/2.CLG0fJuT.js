import{s as w,n as E,o as K}from"../chunks/scheduler.BvLojk_z.js";import{S as I,i as S,e as b,c as C,d as k,g as _,o as A,j as U,p as q,y as X,q as P,a as $,n as V,t as p,u as M,v as L,w as Q,x as B,z as Y,s as T,b as z,A as G,h as N,f as H,k as v,l as Z}from"../chunks/index.CXoR_wGk.js";import{w as ee}from"../chunks/index.BGTSHx9J.js";function j(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}const O=ee(0);var x=(l=>(l[l.CIRCLE=0]="CIRCLE",l[l.SQUARE=1]="SQUARE",l))(x||{});function te(l){let e;return{c(){e=b("div"),this.h()},l(n){e=C(n,"DIV",{class:!0}),k(e).forEach(_),this.h()},h(){A(e,"class","circle shape svelte-46ml9l")},m(n,t){U(n,e,t)},p:E,i:E,o:E,d(n){n&&_(e)}}}class ne extends I{constructor(e){super(),S(this,e,null,te,w,{})}}function se(l){let e;return{c(){e=b("button"),this.h()},l(n){e=C(n,"BUTTON",{class:!0}),k(e).forEach(_),this.h()},h(){A(e,"class","square shape svelte-o5cwio")},m(n,t){U(n,e,t)},p:E,i:E,o:E,d(n){n&&_(e)}}}class le extends I{constructor(e){super(),S(this,e,null,se,w,{})}}function oe(l){let e,n;return e=new le({}),{c(){M(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){Q(e,t,s),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function re(l){let e,n;return e=new ne({}),{c(){M(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){Q(e,t,s),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function ie(l){let e,n,t,s=`${l[1].x}px`,a=`${l[1].y}px`,o,c,r;const i=[re,oe],h=[];function y(f,d){return f[0]===x.CIRCLE?0:f[0]===x.SQUARE?1:-1}return~(n=y(l))&&(t=h[n]=i[n](l)),{c(){e=b("button"),t&&t.c(),this.h()},l(f){e=C(f,"BUTTON",{class:!0});var d=k(e);t&&t.l(d),d.forEach(_),this.h()},h(){A(e,"class","shape svelte-3wlde2"),q(e,"top",s),q(e,"left",a)},m(f,d){U(f,e,d),~n&&h[n].m(e,null),o=!0,c||(r=X(e,"click",l[2]),c=!0)},p(f,[d]){let R=n;n=y(f),n!==R&&(t&&(P(),$(h[R],1,1,()=>{h[R]=null}),V()),~n?(t=h[n],t||(t=h[n]=i[n](f),t.c()),p(t,1),t.m(e,null)):t=null),d&2&&s!==(s=`${f[1].x}px`)&&q(e,"top",s),d&2&&a!==(a=`${f[1].y}px`)&&q(e,"left",a)},i(f){o||(p(t),o=!0)},o(f){$(t),o=!1},d(f){f&&_(e),~n&&h[n].d(),c=!1,r()}}}const ce=1e3;function ae(l,e,n){let{type:t}=e,{position:s}=e,{onRemove:a}=e;const o=()=>{O.update(i=>i+1)},c=()=>{O.update(i=>i-1)},r=()=>{t===x.CIRCLE&&o(),t===x.SQUARE&&c(),a()};return K(()=>{setTimeout(a,ce)}),l.$$set=i=>{"type"in i&&n(0,t=i.type),"position"in i&&n(1,s=i.position),"onRemove"in i&&n(3,a=i.onRemove)},[t,s,r,a]}class fe extends I{constructor(e){super(),S(this,e,ae,ie,w,{type:0,position:1,onRemove:3})}}function F(l,e,n){const t=l.slice();return t[6]=e[n],t}function W(l){let e,n;function t(){return l[2](l[6])}return e=new fe({props:{onRemove:t,type:l[6].type,position:{x:l[6].x,y:l[6].y}}}),{c(){M(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,a){Q(e,s,a),n=!0},p(s,a){l=s;const o={};a&1&&(o.onRemove=t),a&1&&(o.type=l[6].type),a&1&&(o.position={x:l[6].x,y:l[6].y}),e.$set(o)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){$(e.$$.fragment,s),n=!1},d(s){B(e,s)}}}function ue(l){let e,n,t=j(l[0]),s=[];for(let o=0;o<t.length;o+=1)s[o]=W(F(l,t,o));const a=o=>$(s[o],1,1,()=>{s[o]=null});return{c(){e=b("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var c=k(e);for(let r=0;r<s.length;r+=1)s[r].l(c);c.forEach(_),this.h()},h(){A(e,"class","container svelte-1ds1hxh")},m(o,c){U(o,e,c);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(e,null);n=!0},p(o,[c]){if(c&3){t=j(o[0]);let r;for(r=0;r<t.length;r+=1){const i=F(o,t,r);s[r]?(s[r].p(i,c),p(s[r],1)):(s[r]=W(i),s[r].c(),p(s[r],1),s[r].m(e,null))}for(P(),r=t.length;r<s.length;r+=1)a(r);V()}},i(o){if(!n){for(let c=0;c<t.length;c+=1)p(s[c]);n=!0}},o(o){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)$(s[c]);n=!1},d(o){o&&_(e),Y(s,o)}}}let he=1e3,me=800,de=800;function pe(l,e,n){let t=[],s=0;const a=()=>{const i=Math.floor(Math.random()*(me-100)),h=Math.floor(Math.random()*(de-100));return{x:i,y:h}},o=()=>{const i=a(),h=Math.random()<.5;n(0,t=[...t,{id:s,type:h?x.CIRCLE:x.SQUARE,x:i.x,y:i.y}]),s++},c=i=>{n(0,t=t.filter(h=>h.id!==i))};return K(()=>{setInterval(o,he)}),[t,c,i=>c(i.id)]}class _e extends I{constructor(e){super(),S(this,e,pe,ue,w,{})}}function J(l){let e,n;return e=new _e({}),{c(){M(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){Q(e,t,s),n=!0},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){$(e.$$.fragment,t),n=!1},d(t){B(e,t)}}}function ge(l){let e,n,t="clicking",s,a,o,c,r,i,h="start",y,f,d,R,u=l[1]&&J();return{c(){e=b("div"),n=b("h1"),n.textContent=t,s=T(),a=b("p"),o=z("get the circles and ignore the squares. score: "),c=z(l[0]),r=T(),i=b("button"),i.textContent=h,y=T(),u&&u.c()},l(g){e=C(g,"DIV",{});var m=k(e);n=C(m,"H1",{"data-svelte-h":!0}),G(n)!=="svelte-1tzvwig"&&(n.textContent=t),s=N(m),a=C(m,"P",{});var D=k(a);o=H(D,"get the circles and ignore the squares. score: "),c=H(D,l[0]),D.forEach(_),r=N(m),i=C(m,"BUTTON",{"data-svelte-h":!0}),G(i)!=="svelte-862u6w"&&(i.textContent=h),y=N(m),u&&u.l(m),m.forEach(_)},m(g,m){U(g,e,m),v(e,n),v(e,s),v(e,a),v(a,o),v(a,c),v(e,r),v(e,i),v(e,y),u&&u.m(e,null),f=!0,d||(R=X(i,"click",l[2]),d=!0)},p(g,[m]){(!f||m&1)&&Z(c,g[0]),g[1]?u?m&2&&p(u,1):(u=J(),u.c(),p(u,1),u.m(e,null)):u&&(P(),$(u,1,1,()=>{u=null}),V())},i(g){f||(p(u),f=!0)},o(g){$(u),f=!1},d(g){g&&_(e),u&&u.d(),d=!1,R()}}}function $e(l,e,n){let t,s=!1;return O.subscribe(o=>{n(0,t=o)}),[t,s,()=>{n(1,s=!0)}]}class xe extends I{constructor(e){super(),S(this,e,$e,ge,w,{})}}export{xe as component};
